{"version":3,"file":"component---src-pages-index-js-d0a2021de27e92d7b001.js","mappings":"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","sources":["webpack://whatstore-merchant-panel/./src/components/loginBox.js","webpack://whatstore-merchant-panel/./src/pages/index.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport Button from 'react-bootstrap/Button';\r\nimport Form from 'react-bootstrap/Form';\r\nimport FloatingLabel from 'react-bootstrap/FloatingLabel';\r\nimport Container from 'react-bootstrap/Container';\r\n\r\nimport {login_user} from '../api_handlers/account_api'\r\nimport { navigate } from 'gatsby';\r\n\r\nconst container = {\r\n\twidth:'60%',\r\n\tminWidth:'300px',\r\n\tmaxWidth:'550px',\r\n\theight:'350px',\r\n\tpadding:'30px',\r\n\tdisplay:'flex',\r\n\tflexFlow:'column',\r\n\tjustifyContent:'space-evenly',\r\n\tborderRadius:'12px',\r\n\tboxShadow:'2px 2px 5px 2px #4f4',\r\n}\r\n\r\n\r\nconst formHeader = {\r\n\tmargin:3\r\n}\r\nexport default function LoginBox(){\r\n\tconst [ number , setNumber ]= useState('');\r\n\tconst [ password , setPassword ]= useState('');\r\n\r\n\tconst [error_user , setError_user] = useState('')\r\n\tconst [error_pass , setError_pass] = useState('')\r\n\tconst [error_err , setError_err] = useState('')\r\n\r\n\tconst [ store_ , setStore_ ] = useState();\r\n\tconst [ csrfToken , setCsrfToken ] = useState();\r\n\r\n\tuseEffect(()=>{\r\n\t\tif(store_){\r\n\t\t\tlocalStorage.setItem('store_',JSON.stringify({...store_}))\r\n\t\t}\r\n\t},[store_]);\r\n\tuseEffect(()=>{\r\n\t\tif(csrfToken){\r\n\t\tlocalStorage.setItem('CSRF_token',csrfToken);navigate('/products');\r\n}},[csrfToken])\r\n\t\r\n\tconst submit_login = async ({number , password})=>{\r\n\t\tsetError_user('')\r\n\tsetError_pass('')\r\n\t\tsetError_err('')\r\n\t\tlet response = await login_user({number , password});\r\n\t\tconsole.log(response)\r\n\t\tif(response.success !== true){\r\n\t\t\tif(response.type === 'user'){\r\n\t\t\treturn setError_user(response.msg)\r\n\t\t}\r\n\t\tif(response.type === 'password'){\r\n\t\t\treturn setError_pass(response.msg)\r\n\t\t}\r\n\t\tif(response.type === 'error'){\r\n\t\t\treturn setError_err('Couldn\\'t connect to server')\r\n\t\t}\r\n\t\t\r\n\t\t}else{\r\n\t\t\r\n\t\t\tsetCsrfToken(response.token);\r\n\t\t\tlet { seller_id , name , email , number , currency} = response;\r\n\t\t\tlet store = {seller_id , shop_name:name , email , number , currency }\r\n\t\t\tsetStore_(store)\r\n\t\t\t\r\n\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t<div style={container} onKeyDown={e=>{if(e.keyCode===13){submit_login({number , password})}else{console.log(e.keyCode)}}}>\r\n\t\t<h3 style={formHeader}>\r\n\t\t\tLogin\r\n\t\t</h3>\r\n\t\t<FloatingLabel\r\n        controlId=\"floatingInput\"\r\n        label=\"Whatsapp Number\"\r\n        className=\"mb-3\"\r\n      >\r\n        <Form.Control type=\"number\" onChange={(e)=>setNumber(e.target.value)} placeholder=\"Area Code & Phone number\" />\r\n\t\t<p class=\"form-error\" style={{color:'red',fontSize:14,marginRight:12}}>{error_user}</p>\r\n      </FloatingLabel>\r\n\r\n      <FloatingLabel controlId=\"floatingPassword\" label=\"Password\">\r\n        <Form.Control type=\"password\" onChange={(e)=>setPassword(e.target.value)} placeholder=\"Password\" />\r\n\t\t<p class=\"form-error\" style={{color:'red',fontSize:14,marginRight:12}}>{error_pass}</p>\r\n\t\t<p class=\"form-error\" style={{color:'red',fontSize:14,marginRight:12}}>{error_err}</p>\r\n      </FloatingLabel>\r\n\t  \r\n\t\t<Button variant='primary' onClick={()=>submit_login({number , password})} >Login</Button>\t\t\r\n\t</div>\r\n\t)\r\n}","import * as React from 'react'\r\nimport 'bootstrap/dist/css/bootstrap.min.css'\r\nimport Layout from '../components/layout'\r\nimport LoginBox from '../components/loginBox'\r\nimport Navbar from '../components/Navbar'\r\nimport { navigate } from 'gatsby'\r\nimport { isBrowser } from '../utils/isBrowser'\r\n\r\n\r\nconst pageStyles = {\r\n\tcolor: '#232129',\r\n\tpadding: 96,\r\n\tfontFamily: '-apple-system, Roboto, sans-serif, serif',\r\n}\r\n\r\nconst headerStyles = {\r\n\theight:65 , \r\n  background:'#2B221A',\r\n\tcolor:'#eee',\r\n\tdisplay:'grid',\r\n\tgridTemplateColumns:'1fr 6fr 1fr',\r\n\tpadding:'.6rem',\r\n\tjustifyItems:'center',\r\n\talignItems:'center',\r\n\tfontFamily:'sans-serif',\r\n\tfontWeight:'700'\r\n}\r\n\r\nconst loginLayout = {\r\n\tdisplay:'flex',\r\n\tjustifyContent:'center',\r\n\talignItems:'center',\r\n\tmargin:'auto',\r\n\tpadding:'7%',\r\n}\r\nconst headingStyles = {\r\n\tmarginTop: 0,\r\n\tmarginBottom: 64,\r\n\tmaxWidth: 320,\r\n}\r\nconst headingAccentStyles = {\r\n\tcolor: '#663399',\r\n}\r\n\r\nconst docLink = {\r\n\ttext: 'Documentation',\r\n\turl: 'https://www.gatsbyjs.com/docs/',\r\n\tcolor: '#8954A8',\r\n}\r\n\r\nconst links = [\r\n\t\r\n\t{\r\n\t\ttext: 'Plugin Library',\r\n\t\turl: 'https://www.gatsbyjs.com/plugins',\r\n\t\tdescription:\r\n      'Add functionality and customize your Gatsby site or app with thousands of plugins built by our amazing developer community.',\r\n\t\tcolor: '#8EB814',\r\n\t},\r\n\t{\r\n\t\ttext: 'Build and Host',\r\n\t\turl: 'https://www.gatsbyjs.com/cloud',\r\n\t\tbadge: true,\r\n\t\tdescription:\r\n      'Now youâ€™re ready to show the world! Give your Gatsby site superpowers: Build and host on Gatsby Cloud. Get started for free!',\r\n\t\tcolor: '#663399',\r\n\t},\r\n]\r\n\r\nconst IndexPage = () => {\r\n\tif(typeof window !== 'undefined'){\r\n\treturn navigate('/login')\r\n\t}else{return null}\r\n\t\r\n}\r\n\r\nexport default IndexPage\r\n\r\nexport const Head = () => (\r\n\t<title>\r\nHome Page\r\n\t</title>\r\n)\r\n"],"names":["container","width","minWidth","maxWidth","height","padding","display","flexFlow","justifyContent","borderRadius","boxShadow","formHeader","margin","LoginBox","useState","number","setNumber","password","setPassword","error_user","setError_user","error_pass","setError_pass","error_err","setError_err","store_","setStore_","csrfToken","setCsrfToken","useEffect","localStorage","setItem","JSON","stringify","navigate","submit_login","login_user","response","console","log","success","type","msg","token","seller_id","name","email","currency","shop_name","style","onKeyDown","e","keyCode","controlId","label","className","onChange","target","value","placeholder","class","color","fontSize","marginRight","variant","onClick","window","Head"],"sourceRoot":""}
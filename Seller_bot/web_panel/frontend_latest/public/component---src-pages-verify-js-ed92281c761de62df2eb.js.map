{"version":3,"file":"component---src-pages-verify-js-ed92281c761de62df2eb.js","mappings":"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","sources":["webpack://whatstore-merchant-panel/./node_modules/react-bootstrap/esm/Spinner.js","webpack://whatstore-merchant-panel/./src/pages/verify.js"],"sourcesContent":["import _defineProperty from \"C:/Users/Akshay/Downloads/Whatstore/Example/Seller_bot/web_panel/frontend/merchant-panel_/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectWithoutProperties from \"C:/Users/Akshay/Downloads/Whatstore/Example/Seller_bot/web_panel/frontend/merchant-panel_/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nvar _excluded = [\"bsPrefix\", \"variant\", \"animation\", \"size\", \"as\", \"className\"];\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\n\nimport classNames from 'classnames';\nimport * as React from 'react';\nimport { useBootstrapPrefix } from './ThemeProvider';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar Spinner = /*#__PURE__*/React.forwardRef(function (_ref, ref) {\n  var bsPrefix = _ref.bsPrefix,\n      variant = _ref.variant,\n      animation = _ref.animation,\n      size = _ref.size,\n      _ref$as = _ref.as,\n      Component = _ref$as === void 0 ? 'div' : _ref$as,\n      className = _ref.className,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  bsPrefix = useBootstrapPrefix(bsPrefix, 'spinner');\n  var bsSpinnerPrefix = \"\".concat(bsPrefix, \"-\").concat(animation);\n  return /*#__PURE__*/_jsx(Component, _objectSpread(_objectSpread({\n    ref: ref\n  }, props), {}, {\n    className: classNames(className, bsSpinnerPrefix, size && \"\".concat(bsSpinnerPrefix, \"-\").concat(size), variant && \"text-\".concat(variant))\n  }));\n});\nSpinner.displayName = 'Spinner';\nexport default Spinner;","import React , {useEffect, useState} from 'react';\r\nimport Spinner from \"react-bootstrap/Spinner\";\r\nimport Form from 'react-bootstrap/Form';\r\nimport FloatingLabel from 'react-bootstrap/FloatingLabel';\r\nimport Button from 'react-bootstrap/Button';\r\nimport { shouldVerify, verifyOTP } from '../api_handlers/account_api';\r\nimport { navigate } from 'gatsby';\r\n\r\nconst container = {\r\n    display: 'grid',\r\n    placeItems:'center',\r\n    height:'100vh'\r\n}\r\n\r\nconst box = {\r\n    width:'50rem',\r\n    height: '20rem',\r\n    borderRadius:10,\r\n    padding:'1rem',\r\n    boxShadow:'#4f49 0px 1px 16px 1px',\r\n}\r\n\r\nconst innerBox = {\r\n    display:'flex',\r\n    flexFlow:'column',\r\n    alignItems:'center',\r\n}\r\n\r\nconst form_error = {\r\n    color:'red',\r\n    fontSize:14,\r\n    marginLeft:12\r\n}\r\n\r\nexport default function VerifyOtp(){\r\n    const [ loaded , setLoaded ] = useState(false);\r\n    const [ value , setValue ] = useState('');\r\n    const [error_err, setError_err] = useState('')\r\n\r\n    const stabilise_form = (e)=>{\r\n        e.preventDefault();\r\n        e.stopPropagation()\r\n    }\r\n\r\n    useEffect(() => {\r\n      shouldVerify()\r\n      .then(notVerified=>{\r\n        if(!notVerified.success){\r\n            navigate('/login')\r\n        }\r\n\r\n      })\r\n      .catch(e=>{\r\n        navigate('/login')\r\n      })\r\n    }, [])\r\n\r\n    const check_otp = async()=>{\r\n        try{\r\n        let payload = await verifyOTP(value)\r\n                if(!payload.success){\r\n                    setError_err(payload.msg)\r\n                }\r\n                setLoaded(false);\r\n                setTimeout(()=>{navigate('/dashboard')},1500);\r\n            }\r\n            catch(e){\r\n                console.trace(e)\r\n            }\r\n    }\r\n    \r\n    \r\n    return(\r\n        <div style={container}>\r\n        <Form noValidate onSubmit={()=>stabilise_form} validated={false} onKeyDown={(e)=>e.key === 'Enter'?check_otp():null}  controlId=\"formGroup\" className=\"mb-3\" style={box}>\r\n        <h3 style={{textAlign:'center'}}>Please verify to proceed</h3>\r\n        <h4 style={{textAlign:'center' , marginBottom:'1rem'}}>You will receive an OTP in your Whatsapp</h4>\r\n        {\r\n            loaded ? \r\n            <div style={{display:'grid',placeItems:'center',height:'70%'}}>\r\n            <Spinner variant=\"primary\" animation=\"border\"/>\r\n            </div>\r\n            :\r\n            <div style={innerBox}>\r\n            <FloatingLabel controlId=\"floatingInput\" label=\"Enter OTP\">\r\n        <Form.Control onChange={(e)=>setValue(e.target.value)} placeholder=\"OTP\" />\r\n\t\t<p className=\"form-error\" style={form_error}>{error_err}</p>\r\n      </FloatingLabel>\r\n\t  \r\n\t\t<Button variant='primary' onClick={check_otp} >Verify</Button>\t\t\r\n            </div>\r\n        }\r\n        </Form>\r\n        </div>\r\n    )\r\n}\r\n"],"names":["_excluded","ownKeys","object","enumerableOnly","keys","Object","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","target","i","arguments","length","source","forEach","key","getOwnPropertyDescriptors","defineProperties","defineProperty","Spinner","_ref","ref","bsPrefix","variant","animation","size","_ref$as","as","Component","className","props","bsSpinnerPrefix","concat","displayName","container","display","placeItems","height","box","width","borderRadius","padding","boxShadow","innerBox","flexFlow","alignItems","form_error","color","fontSize","marginLeft","VerifyOtp","useState","loaded","setLoaded","value","setValue","error_err","setError_err","stabilise_form","e","preventDefault","stopPropagation","useEffect","shouldVerify","then","notVerified","success","navigate","catch","check_otp","verifyOTP","payload","msg","setTimeout","console","trace","style","noValidate","onSubmit","validated","onKeyDown","controlId","textAlign","marginBottom","label","onChange","placeholder","onClick"],"sourceRoot":""}
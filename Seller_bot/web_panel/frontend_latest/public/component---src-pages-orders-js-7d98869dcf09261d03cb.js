"use strict";(self.webpackChunkwhatstore_merchant_panel=self.webpackChunkwhatstore_merchant_panel||[]).push([[832],{2719:function(e,t,n){n.d(t,{Z:function(){return y}});var r=n(5987),l=n(4942),a=n(5900),c=n.n(a),o=n(7294),u=n(8870),i=n(9541),s=n(4709),m=o.createContext(null);m.displayName="InputGroupContext";var d=m,p=n(5893),E=["bsPrefix","size","hasValidation","className","as"];function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){(0,l.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h=(0,u.Z)("input-group-text",{Component:"span"}),g=o.forwardRef((function(e,t){var n=e.bsPrefix,l=e.size,a=e.hasValidation,u=e.className,s=e.as,m=void 0===s?"div":s,v=(0,r.Z)(e,E);n=(0,i.vE)(n,"input-group");var h=(0,o.useMemo)((function(){return{}}),[]);return(0,p.jsx)(d.Provider,{value:h,children:(0,p.jsx)(m,f(f({ref:t},v),{},{className:c()(u,n,l&&"".concat(n,"-").concat(l),a&&"has-validation")}))})}));g.displayName="InputGroup";var y=Object.assign(g,{Text:h,Radio:function(e){return(0,p.jsx)(h,{children:(0,p.jsx)(s.Z,f({type:"radio"},e))})},Checkbox:function(e){return(0,p.jsx)(h,{children:(0,p.jsx)(s.Z,f({type:"checkbox"},e))})}})},4280:function(e,t,n){n.d(t,{G:function(){return u},Q:function(){return o}});var r=n(5861),l=n(4687),a=n.n(l),c=n(448),o=function(){var e=(0,r.Z)(a().mark((function e(t){var n,r,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return void 0===t&&(t=0),e.prev=1,n=JSON.parse(localStorage.getItem("store_")),r=n.seller_id,e.next=5,fetch(c.D.DOMAIN+"/orders/"+r+"/10/"+t);case 5:return l=e.sent,e.next=8,l.json();case 8:return l=e.sent,e.abrupt("return",l);case 12:throw e.prev=12,e.t0=e.catch(1),console.log(e.t0),e.t0;case 16:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(t){return e.apply(this,arguments)}}(),u=function(){var e=(0,r.Z)(a().mark((function e(t,n,r,l){var o;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(c.D.DOMAIN+"/order/"+t+"/"+n+"/"+r+"/"+l,{method:"PUT","content-type":"application/json"});case 3:return o=e.sent,e.next=6,o.json();case 6:return o=e.sent,console.log(o),e.abrupt("return",o);case 11:return e.prev=11,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",{data:"error"});case 15:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(t,n,r,l){return e.apply(this,arguments)}}()},398:function(e,t,n){n.r(t),n.d(t,{default:function(){return Z}});var r=n(5861),l=n(2982),a=n(4687),c=n.n(a),o=n(7294),u=n(8678),i=(n(9051),n(2933)),s=n(2511),m=n(6746),d=n(9655),p=n(4280),E=n(8169),v=n(6594),f=n(2957),h=n(2719),g=n(5893),y=n(8500),b=function(){return b=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var l in t=arguments[n])Object.prototype.hasOwnProperty.call(t,l)&&(e[l]=t[l]);return e},b.apply(this,arguments)},x=(0,o.forwardRef)((function(e,t){return(0,g.jsx)(y.q,b({},e,{ref:t},{children:(0,g.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"})}))}));function w(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(n)return(n=n.call(e)).next.bind(n);if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0;return function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S={display:"flex",height:"calc(100vh)",background:"rgb(250,250,250)"},O={position:"absolute",top:"20vh",background:"#333a",width:"100vw",height:"100vh",display:"grid",transform:"translate(0vw , -20vh)",placeItems:"center"},j={background:"#fff",placeItems:"center",isolation:"isolate",minWidth:"60vw",padding:"3rem",borderRadius:"10PX",height:"fit-content",boxShadow:"0 0 0 10px #333c"};function Z(){var e=(0,o.useState)("active"),t=e[0],n=e[1],a=(0,o.useState)([]),g=a[0],y=a[1],b=(0,o.useState)([]),_=b[0],Z=b[1],k=(0,o.useState)([]),N=k[0],C=k[1],A=(0,o.useState)([]),D=A[0],I=A[1],P=(0,o.useState)(!1),R=P[0],z=P[1],K=(0,o.useState)({}),H=K[0],$=K[1],q=(0,o.useState)(""),M=q[0],F=q[1],G=(0,o.useState)(!1),L=G[0],Q=G[1],T=(0,o.useState)(""),W=T[0],V=T[1];(0,o.useEffect)((function(){(0,p.Q)().then((function(e){if(console.log(e),e)if(e.order.length){for(var t,n=w(e.order);!(t=n()).done;)for(var r,a=t.value,c=w(a.products);!(r=c()).done;){var o=r.value;a.amount?a.amount+=Number(o.product.price)*Number(o.quantity):a.amount=Number(o.product.price)*Number(o.quantity)}y((0,l.Z)(e.order.filter((function(e){return"completed"!==e.order_status&&"delivered"!==e.delivery_status})))),Z((0,l.Z)(e.order.filter((function(e){return"completed"===e.order_status||"delivered"===e.delivery_status})))),z(!1)}else V("No Orders have been made till now")})).catch((function(e){console.log(e),V("Something Went wrong While looking for Invoices ")}))}),[D]),(0,o.useEffect)((function(){C((0,l.Z)(g))}),[g]),(0,o.useEffect)((function(){console.log(t),C("active"===t?(0,l.Z)(g):(0,l.Z)(_))}),[t]);var U=function(e){var t=e.delivery_status;switch(console.log(t),t){case"delivered":break;case"order_placed":return o.createElement(f.Z.Select,{size:"md","data-invoice":H.invoice_number,onChange:function(e){F(e.target.value),Q(!0)}},o.createElement("option",{value:"order_placed"},"Order Placed"),o.createElement("option",{value:"en-route"},"En-Route"),o.createElement("option",{value:"delivered"},"Delivered"));default:return o.createElement(f.Z.Select,{size:"md","data-invoice":H.invoice_number,onChange:function(e){F(e.target.value),Q(!0)}},o.createElement("option",{value:"en-route"},"En-Route"),o.createElement("option",{value:"delivered"},"Delivered"))}},Y=function(e){var t=e.target.parentElement.dataset.key;console.log(t),console.log(e.target.parentElement),N.length&&(console.log(e.target.parentElement),z(!0),$(Object.assign({},N[Number(t)])))},J=function(){var e=(0,r.Z)(c().mark((function e(t,n){var r,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,p.G)(t,n);case 2:r=e.sent,console.log(r),Q(!1),"completed"!==(a=r.order).order_status&&"delivered"!==a.delivery_status?y((function(e){var t=e.filter((function(e,t){if(e.invoice_number===a.invoice_number)return t}));return t&&(e[t]=a),(0,l.Z)(e)})):Z((function(e){var t=e.filter((function(e,t){if(e.invoice_number===a.invoice_number)return t}));return t&&(e[t]=a),(0,l.Z)(e)})),I(50*Math.random());case 8:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return(0,o.useEffect)((function(){console.log(H)}),[H]),o.createElement(u.Z,null,o.createElement("div",{id:"wrapper",style:S},o.createElement(i.Y,{selected:"orders"}),W?o.createElement("div",{style:{width:"100vw",height:"calc(100vh)",background:"azure",display:"grid",placeItems:"center"}},o.createElement("p",null,W)):R&&Object.keys(H).length?o.createElement("div",{style:O},o.createElement("div",{style:j},o.createElement(d.Z,{onClick:function(){return z(!1)},style:{float:"right",margin:"-1.5rem"}}),o.createElement("div",{style:{borderRadius:10,boxShadow:"0 1px 30px 1px #3335",padding:"2rem"}},o.createElement("header",null,o.createElement("p",null,"Date : ",new Date(H.created_on).toLocaleString()),o.createElement("p",null,"Invoice No.",H.invoice_number),o.createElement("h6",null,"Customer Name: Akshay"),o.createElement("h6",null,"Address: Rf/23 , new street , Hunghom , hongkong")),o.createElement("article",null,o.createElement(E.Z,null,o.createElement("thead",null,o.createElement("tr",null,o.createElement("th",null,"No."),o.createElement("th",null,"Product Name"),o.createElement("th",null,"Quantity"),o.createElement("th",null,"Price ($HKD)"),o.createElement("th",null,"Added cost ($HKD)"),o.createElement("th",null,"Amt.($HKD)"))),o.createElement("tbody",null,H.products.length?H.products.map((function(e,t){return o.createElement("tr",null,o.createElement("td",null,t),o.createElement("td",null,o.createElement("p",{style:{margin:"10px 0"}},o.createElement("b",null,e.product.title)),o.createElement("p",{style:{margin:0}},e.properties.length?Object.entries(e.properties[0]).map((function(e){return e.join(" : ")})).join("  "):null)),o.createElement("td",null,e.quantity),o.createElement("td",null,e.product.price),o.createElement("td",null,e.extra_charges),o.createElement("td",null,Number(e.quantity)*Number(e.product.price)))})):o.createElement("tr",null,o.createElement("td",{colspan:"6",style:{textAlign:"center"}},"No Products found"))),o.createElement("tfoot",null,o.createElement("tr",null,o.createElement("td",{colspan:5},o.createElement("b",null,"Total")),o.createElement("td",null,H.gross_price))))),o.createElement("div",null,o.createElement("p",null,"Delivery Status:"),"delivered"!==H.delivery_status&&"confirmed_delivery"!==H.delivery_status?o.createElement(o.Fragment,null,o.createElement(U,{delivery_status:H.delivery_status}),L?o.createElement(v.Z,{style:{margin:"15px 0"},onClick:function(){return J(H.invoice_number,M)}},"Save Changes"):null):o.createElement("b",null,H.delivery_status))))):o.createElement("div",{style:{flexGrow:2,flexFlow:"column",alignItems:"flex-start",paddingLeft:"12.5rem",overflowY:"auto",width:"100vw",height:"calc(100vh)"}},o.createElement("h3",{style:{marginTop:"2rem"}},"Received Orders"),o.createElement("p",null,'Make sure to Update Status of Order as "En-Route" As soon is it Sent for shipping'),o.createElement(s.Z,{activeKey:t,onSelect:function(e){return n(e)},className:"mb-3"},o.createElement(m.Z,{eventKey:"active",title:"Active Orders"},o.createElement("div",null,o.createElement("div",null,o.createElement(h.Z,null,o.createElement(f.Z.Control,{placeholder:"Search by invoice No.","aria-label":"Search invoices by invoice no."}),o.createElement(v.Z,{variant:"outlined-primary"},o.createElement(x,null)))),o.createElement(E.Z,null,o.createElement("thead",null,o.createElement("th",null,"Status"),o.createElement("th",null,"Date"),o.createElement("th",null,"Invoice No."),o.createElement("th",null,"Customer"),o.createElement("th",null,"Item"),o.createElement("th",null,"Options"),o.createElement("th",null,"Qty."),o.createElement("th",null,"Rate (HK$)"),o.createElement("th",null,"Amount (HK$)")),o.createElement("tbody",null,N.length?N.map((function(e,t){return o.createElement("tr",{onClickCapture:function(e){return Y(e)},"data-key":t,key:t,style:{verticalAlign:"middle"}},o.createElement("td",{onClick:function(e){return Y(e)},style:{borderRadius:"10px 0 0 10px",padding:"1.5rem 0",textAlign:"center",background:"order_placed"===e.delivery_status?"#65f265":"#65e0f2",fontWeight:"700"}},e.delivery_status),o.createElement("td",null,new Date(""+e.created_on).toLocaleString()),o.createElement("td",null,e.invoice_number?e.invoice_number:"00"+t),o.createElement("td",null,"Customer"),e.products.map((function(t,n){return o.createElement(o.Fragment,null,o.createElement("td",null,o.createElement("p",{style:{margin:"1.2rem 0 0 0"}},o.createElement("b",null,e.products.length>1?n:null),t.product.title),o.createElement("br",null)),o.createElement("td",null,t.properties.map((function(e){return console.log(e),o.createElement(o.Fragment,null,o.createElement("p",{style:{margin:0}},o.createElement("b",null,"Color")," : ",e.colors?e.colors:"-"),o.createElement("p",{style:{margin:0}},o.createElement("b",null,"Size")," : ",e.sizes?e.sizes:"-"),o.createElement("p",{style:{margin:0}},o.createElement("b",null,"Variation")," : ",e.variations?e.variations:"-"))}))),o.createElement("td",null,t.quantity),o.createElement("td",null,Number(t.product.price)))})),o.createElement("td",null,e.amount),o.createElement("td",null),o.createElement("td",null))})):null)))),o.createElement(m.Z,{eventKey:"completed",title:"Completed Orders"},o.createElement("div",null,o.createElement("div",null,o.createElement(h.Z,null,o.createElement(f.Z.Control,{placeholder:"Search by invoice No.","aria-label":"Search invoices by invoice no."}),o.createElement(v.Z,{variant:"outlined-primary"},o.createElement(x,null)))),o.createElement(E.Z,{className:"hover"},o.createElement("thead",null,o.createElement("th",null,"Status"),o.createElement("th",null,"Date"),o.createElement("th",null,"Invoice No."),o.createElement("th",null,"Customer"),o.createElement("th",null,"Item"),o.createElement("th",null,"Options"),o.createElement("th",null,"Qty."),o.createElement("th",null,"Rate (HK$)"),o.createElement("th",null,"Amount (HK$)")),o.createElement("tbody",null,N.length?N.map((function(e,t){return o.createElement("tr",{onClick:function(e){return Y(e)},"data-key":t,key:t,style:{verticalAlign:"middle"}},o.createElement("td",{style:{borderRadius:"10px 0 0 10px",padding:"1.5rem 0",textAlign:"center",background:"order_placed"===e.delivery_status?"#65f265":"#65e0f2",fontWeight:"700"}},e.delivery_status),o.createElement("td",null,new Date(""+e.created_on).toLocaleString()),o.createElement("td",null,e.invoice_number?e.invoice_number:"00"+t),o.createElement("td",null,"Customer"),e.products.map((function(t,n){return o.createElement(o.Fragment,null,o.createElement("td",null,o.createElement("p",{style:{margin:"1.2rem 0 0 0"}},o.createElement("b",null,e.products.length>1?n:null),t.product.title),o.createElement("br",null)),o.createElement("td",null,t.properties.map((function(e){return console.log(e),o.createElement(o.Fragment,null,o.createElement("p",{style:{margin:0}},o.createElement("b",null,"Color")," : ",e.colors?e.colors:"-"),o.createElement("p",{style:{margin:0}},o.createElement("b",null,"Size")," : ",e.sizes?e.sizes:"-"),o.createElement("p",{style:{margin:0}},o.createElement("b",null,"Variation")," : ",e.variations?e.variations:"-"))}))),o.createElement("td",null,t.quantity),o.createElement("td",null,Number(t.product.price)))})),o.createElement("td",null,e.amount),o.createElement("td",null),o.createElement("td",null))})):null))))))))}}}]);
//# sourceMappingURL=component---src-pages-orders-js-7d98869dcf09261d03cb.js.map